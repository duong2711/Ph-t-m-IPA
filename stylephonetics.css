/* === [Cáº¬P NHáº¬T] Bá»‘ cá»¥c Grid 2 cá»™t cho Táº¤T Cáº¢ mÃ n hÃ¬nh (theo yÃªu cáº§u) === */
body {
    font-family: Arial, sans-serif;
    background-color: #f4f4f4;
    color: #333;
    
    /* Bá»‘ cá»¥c Grid */
    display: grid;
    grid-template-columns: 1fr 1fr; /* 2 cá»™t báº±ng nhau */
    grid-template-rows: auto auto 1fr;   /* HÃ ng 1 cho Header, HÃ ng 2 cho Auth, HÃ ng 3 cho ná»™i dung */
    grid-template-areas:
        "header-area header-area" /* Äá»•i tÃªn khu vá»±c header */
        "auth-area auth-area"
        "chart-area guide-area";
    
    height: 100vh;
    max-height: 100vh;
    overflow: hidden;
    padding: 15px; /* Giáº£m padding cho Mobile */
    position: relative; 
}

/* === Äá»ŠNH Dáº NG KHU Vá»°C HEADER VÃ€ NÃšT ÄÄ‚NG XUáº¤T (Vá»‹ trÃ­ cá»‘ Ä‘á»‹nh) === */

/* #logout-btn: Äáº·t Cá» Äá»ŠNH á»Ÿ gÃ³c trÃªn bÃªn pháº£i vÃ  dá»‹ch lÃªn cao nháº¥t (top: 0) */
#logout-btn { 
    position: fixed; /* Cá»‘ Ä‘á»‹nh vá»‹ trÃ­ trÃªn toÃ n trang */
    top: 0px; /* Dá»‹ch lÃªn sÃ¡t cáº¡nh trÃªn */
    right: 10px; /* SÃ¡t cáº¡nh pháº£i */
    padding: 6px 10px; /* Giáº£m padding cho mobile */
    background-color: #e74c3c; 
    color: white; 
    border: none; 
    border-radius: 5px; 
    cursor: pointer; 
    z-index: 1000; /* LuÃ´n náº±m trÃªn cÃ¹ng */
    font-size: 0.8em; /* Giáº£m cá»¡ chá»¯ nÃºt cho mobile */
}

/* h1: CÄ‚N GIá»®A text vÃ  loáº¡i bá» padding-right gÃ¢y lá»‡ch */
h1 {
    grid-area: header-area; 
    color: #2c3e50;
    text-align: center; /* QUAN TRá»ŒNG: Äáº£m báº£o text luÃ´n cÄƒn giá»¯a */
    font-size: 1.3em; /* [Mobile] Giáº£m cá»¡ chá»¯ h1 */
    margin: 5px 0 10px 0;
    /* Loáº¡i bá» padding-right Ä‘á»ƒ tiÃªu Ä‘á» cÄƒn giá»¯a hoÃ n toÃ n */
}

/* === Káº¾T THÃšC Äá»ŠNH Dáº NG HEADER === */

h2 {
    font-size: 1.1em; /* [Mobile] Giáº£m cá»¡ chá»¯ h2 */
    margin: 10px 0;
    color: #2c3e50;
    text-align: center;
}
h3 {
    font-size: 1.0em; /* [Mobile] Giáº£m cá»¡ chá»¯ h3 */
    margin: 10px 0;
    color: #2c3e50;
    text-align: center;
}

/* === [Cáº¬P NHáº¬T] Khu vá»±c Auth === */
#auth-container {
    grid-area: auth-area;
    padding: 15px;
    background-color: #e8f4f8; /* MÃ u ná»n nháº¹ */
    border: 1px solid #3498db;
    border-radius: 8px;
    margin: 0 0 10px 0;
    text-align: center;
}
#auth-container h2 {
    margin: 0 0 10px 0;
    font-size: 1.2em;
}
/* === Bá»” SUNG: Hiá»ƒn thá»‹ tráº¡ng thÃ¡i Ä‘Äƒng nháº­p rÃµ rÃ ng hÆ¡n === */
#auth-status {
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 10px;
    font-size: 0.9em;
    padding: 5px; 
    background-color: #d1ecf1; 
    border-radius: 4px;
    border: 1px solid #bee5eb;
    text-align: center;
}
/* === Káº¾T THÃšC Bá»” SUNG === */

#login-form {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
}
#login-form input {
    padding: 8px;
    width: 100%;
    max-width: 300px;
    border: 1px solid #ccc;
    border-radius: 4px;
}
#login-btn {
    padding: 8px 15px;
    background-color: #2ecc71;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    width: 100%;
    max-width: 300px;
    transition: background-color 0.2s;
}
#login-btn:hover { background-color: #27ae60; }


/* === [Cáº¬P NHáº¬T] Cá»™t bÃªn TRÃI (Báº£ng IPA) === */
.ipa-chart {
    grid-area: chart-area; 
    overflow-y: auto; 
    max-width: none;
    padding-right: 5px; 
    display: grid; 
    grid-template-columns: 1fr; 
    grid-template-rows: auto 1fr;
}

.ipa-section {
    display: grid;
    grid-template-columns: 1fr 1fr; 
    gap: 5px; 
    padding: 8px; 
    border-radius: 8px;
    margin-bottom: 10px;
}

/* --- PhÃ¢n mÃ u theo báº£ng --- */
#monophthongs { background-color: #fdf5e6; border: 2px solid #f39c12; }
#diphthongs { background-color: #eafaf1; border: 2px solid #27ae60; }
#consonants { background-color: #fdeaea; border: 2px solid #c0392b; }

/* --- TÃ¹y chá»‰nh Ã´ --- */
.ipa-symbol {
    border: 1px solid #ddd;
    border-radius: 5px;
    padding: 5px; 
    text-align: center;
    background-color: #ffffff;
    cursor: pointer;
    transition: background-color 0.2s, transform 0.2s, border-color 0.2s;
    display: flex;
    flex-direction: column;
    justify-content: center;
    min-height: 60px; 
}

.ipa-symbol:hover {
    background-color: #ecf0f1;
    transform: scale(1.05);
}

.ipa-symbol .symbol {
    font-size: 1.2em; 
    font-weight: bold;
    color: #34495e;
}

.ipa-symbol .example {
    font-size: 0.75em; 
    font-style: italic;
    color: #7f8c8d;
    margin-top: 3px;
}

/* === [Cáº¬P NHáº¬T] Cá»™t bÃªn PHáº¢I (Video + HÆ°á»›ng dáº«n) === */
#guide-display {
    grid-area: guide-area; 
    overflow-y: auto;
    max-width: none;
    
    padding: 5px; 
    background-color: #ffffff;
    border: 2px dashed #3498db;
    border-radius: 8px;
    
    display: flex;
    flex-direction: column; 
    align-items: center; 
    
    position: static;
    margin-bottom: 0;
}

/* === Äá»‹nh dáº¡ng cho khu vá»±c Video (Cáº¬P NHáº¬T RESPONSIVE) === */

/* NÃºt Ä‘iá»u khiá»ƒn */
#video-custom-controls {
    display: flex;
    justify-content: center;
    gap: 5px; 
    margin-bottom: 10px;
    width: 100%; 
    max-width: 500px;
    flex-wrap: wrap; 
    padding: 0 5px; 
}
#video-custom-controls button {
    font-size: 0.9em;
    padding: 6px 10px; 
    border: none;
    border-radius: 5px;
    color: white;
    cursor: pointer;
    transition: background-color 0.2s;
    flex-grow: 1; 
    min-width: 90px; 
}
#video-play-btn { background-color: #27ae60; } 
#video-pause-btn { background-color: #e74c3c; } 
#video-custom-controls button:disabled {
    background-color: #bdc3c7;
    cursor: not-allowed;
}

/* Há»™p chá»©a video */
#vimeo-player-container {
    width: 100%;
    aspect-ratio: 16 / 9;
    background-color: #eee;
    border-radius: 8px;
    position: relative;
}
/* [THÃŠM Má»šI] Lá»›p Ä‘á»ƒ áº©n video */
#vimeo-player-container.video-hidden {
    display: none;
}

/* TrÃ¬nh phÃ¡t cá»§a Vimeo */
#iframe-target {
    width: 100%;
    height: 100%;
}
#iframe-target iframe {
    width: 100%;
    height: 100%;
    border: none;
    border-radius: 8px;
    min-width: 0; 
}
#video-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #888;
    font-style: italic;
    margin: 0;
    padding: 10px;
    text-align: center;
}


/* === Äá»‹nh dáº¡ng khu vá»±c text guide === */
#guide-text-container { width: 100%; margin-top: 10px; }
#guide-text {
    font-size: 0.9em; 
    color: #34495e;
    text-align: center;
    line-height: 1.4;
    margin: 0;
    padding: 0 5px; 
}

/* === Äá»‹nh dáº¡ng cho Ã´ Ä‘ang Ä‘Æ°á»£c chá»n === */
.ipa-symbol.active {
    background-color: #ecf0f1;
    border-color: #3498db;
    transform: scale(1.05);
}

/* === Äá»‹nh dáº¡ng khu vá»±c bÃ¬nh luáº­n === */
#comments-section {
    width: 100%;
    margin-top: 15px;
    padding-top: 10px;
    border-top: 2px solid #eee;
}

/* CSS cho viá»‡c Ä‘Ã³ng/má»Ÿ bÃ¬nh luáº­n */
#comment-toggle-header {
    cursor: pointer;
    user-select: none; 
    text-align: left;
    font-size: 1.1em; 
    color: #333;
    padding: 0 5px;
}

.toggle-arrow {
    display: inline-block;
    transition: transform 0.2s ease-in-out;
    margin-right: 5px;
}

#comment-content-wrapper.collapsed { display: none; }
#comment-toggle-header.collapsed .toggle-arrow { transform: rotate(-90deg); }

#new-comment-form { display: flex; flex-direction: column; gap: 10px; padding: 0 5px; }

#record-controls { display: flex; gap: 5px; flex-wrap: wrap; }
#record-controls button {
    padding: 6px 8px;
    font-size: 0.8em; 
    border: none;
    border-radius: 5px;
    cursor: pointer;
    background-color: #3498db;
    color: white;
    transition: background-color 0.2s;
    flex-grow: 1;
}

#record-controls button:hover { background-color: #2980b9; }
#record-controls button:disabled { background-color: #bdc3c7; cursor: not-allowed; }

#record-status { font-size: 0.8em; color: #e74c3c; min-height: 1.2em; padding: 0 5px; }
#recording-preview { width: 100%; display: none; padding: 0 5px; }

#comments-list {
    margin-top: 15px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    max-height: 300px; 
    overflow-y: auto; 
    padding: 0 5px;
}

.comment-item {
    padding: 8px; 
    background-color: #f9f9f9;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
}

/* === Bá»” SUNG: Äá»‹nh dáº¡ng ngÆ°á»i gá»­i bÃ¬nh luáº­n === */
.comment-sender {
    font-size: 0.85em;
    font-weight: bold;
    color: #3498db;
    margin-bottom: 5px;
}
/* === Káº¾T THÃšC Bá»” SUNG === */

.comment-item p { margin: 0 0 8px 0; color: #333; white-space: pre-wrap; font-size: 0.9em; }
.comment-item audio { width: 100%; height: 30px; } 
.comment-timestamp { font-size: 0.75em; color: #7f8c8d; margin-top: 5px; }


/* === PhÃ³ng to láº¡i cho Tablet/Desktop (Min-width: 768px) === */
@media (min-width: 768px) {
    
    body {
        padding: 20px; 
    }
    h1 { 
        font-size: 2.5em; /* TÄ‚NG: TiÃªu Ä‘á» chÃ­nh */
        margin: 10px 0 25px 0; /* TÄƒng margin dÆ°á»›i */
    }
    
    #logout-btn { 
        right: 20px; 
        padding: 10px 18px; /* TÄƒng padding nÃºt */
        font-size: 1.1em; /* TÄ‚NG: Cá»¡ chá»¯ nÃºt */
    }
    
    h2 { font-size: 1.6em; } /* TÄ‚NG: TiÃªu Ä‘á» phá»¥ 1 */
    h3 { font-size: 1.3em; } /* TÄ‚NG: TiÃªu Ä‘á» phá»¥ 2 */
    
    /* Cá»˜T CHÃNH: Thiáº¿t láº­p láº¡i chiá»u cao cá»™t cho mÃ n hÃ¬nh lá»›n */
    .ipa-chart, #guide-display {
        /* TÃ­nh toÃ¡n láº¡i chiá»u cao dá»±a trÃªn padding body (20px) vÃ  tá»•ng chiá»u cao header/auth */
        height: calc(100vh - 190px); 
    }

    #auth-container { margin-bottom: 30px; } /* TÄƒng margin dÆ°á»›i khu vá»±c Auth */
    #auth-container h2 { font-size: 1.8em; } /* TÄ‚NG: TiÃªu Ä‘á» Ä‘Äƒng nháº­p */
    #auth-status { font-size: 1.3em; } /* TÄ‚NG: Tráº¡ng thÃ¡i Ä‘Äƒng nháº­p */
    
    #guide-display { padding: 20px 25px; } /* TÄƒng padding cá»™t pháº£i */
    
    /* Input Form vÃ  nÃºt */
    #login-form { gap: 10px; } /* TÄƒng khoáº£ng cÃ¡ch */
    #login-form input, #login-btn {
        max-width: 350px; /* TÄƒng chiá»u rá»™ng tá»‘i Ä‘a */
        padding: 12px 20px; /* TÄƒng padding nÃºt/input */
        font-size: 1em; /* TÄƒng cá»¡ chá»¯ input/nÃºt */
    }
    /* ThÃªm cho vÄƒn báº£n footer (náº¿u cÃ³) */
    #auth-container p { font-size: 1.1em; }


    /* Báº£ng IPA */
    .ipa-section {
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); /* TÄƒng min-width Ã´ */
        gap: 12px; /* TÄƒng khoáº£ng cÃ¡ch */
        padding: 18px;
    }

    /* Ã” KÃ½ tá»± IPA */
    .ipa-symbol {
        padding: 12px;
        min-height: 90px;
    }
    .ipa-symbol .symbol { font-size: 2.2em; } /* TÄ‚NG Lá»šN: KÃ½ tá»± IPA */
    .ipa-symbol .example { font-size: 1em; } /* TÄ‚NG: VÃ­ dá»¥ tá»« */

    /* Cá»™t HÆ°á»›ng dáº«n vÃ  BÃ¬nh luáº­n */
    #guide-text { font-size: 1.2em; padding: 0; } /* TÄ‚NG: Text hÆ°á»›ng dáº«n */
    #comments-section h3 { font-size: 1.4em; padding: 0; }
    #record-controls button { font-size: 1em; padding: 12px 18px; } /* TÄ‚NG: NÃºt ghi Ã¢m */
    #comments-list { max-height: 450px; }
    .comment-item p { font-size: 1.1em; } /* TÄ‚NG: Ná»™i dung bÃ¬nh luáº­n */
    .comment-timestamp { font-size: 0.9em; } /* TÄ‚NG: Timestamp */
    
    /* NÃºt Video */
    #video-custom-controls button {
        font-size: 1em;
        padding: 10px 15px; 
    }
}

/* === Äiá»u chá»‰nh cho Desktop Rá»™ng (Min-width: 1025px) === */
@media (min-width: 1025px) {
    
    /* Cho phÃ©p 3+ cá»™t trong cá»™t IPA */
    .ipa-section {
        /* ÄÃ£ tÄƒng min-width Ã´ lÃªn 140px vÃ  tÄƒng khoáº£ng cÃ¡ch */
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); 
        gap: 20px; 
        padding: 30px; 
    }

    /* KÃ­ch thÆ°á»›c chá»¯ to hÆ¡n cho cÃ¡c thÃ nh pháº§n chÃ­nh */
    h1 { 
        font-size: 3.5em; /* TiÃªu Ä‘á» chÃ­nh TO NHáº¤T */
        margin: 20px 0 40px 0;
    }
    /* TÄƒng cho cÃ¡c tiÃªu Ä‘á» phá»¥ náº±m ngoÃ i Auth */
    h2 { font-size: 2.5em; } 
    h3 { font-size: 2.0em; } 

    /* Khu vá»±c Auth */
    #auth-container { 
        padding: 30px; /* TÄƒng padding */
        margin-bottom: 40px; /* TÄƒng margin dÆ°á»›i */
    }
    
    #auth-container h2 { font-size: 2.6em; } /* ğŸŒŸ TÄ‚NG: TiÃªu Ä‘á» Ä‘Äƒng nháº­p ğŸŒŸ */
    #auth-status { font-size: 1.6em; } /* ğŸŒŸ TÄ‚NG: Tráº¡ng thÃ¡i Ä‘Äƒng nháº­p ğŸŒŸ */

    /* Input vÃ  nÃºt rá»™ng hÆ¡n trÃªn desktop */
    #login-form input, #login-btn {
        max-width: 450px !important; 
        padding: 18px 25px; /* TÄ‚NG: padding input/nÃºt */
        font-size: 1.5em; /* ğŸŒŸ TÄ‚NG: Cá»¡ chá»¯ input/nÃºt ğŸŒŸ */
    }
    
    #login-form { gap: 15px; } /* TÄ‚NG: Khoáº£ng cÃ¡ch giá»¯a cÃ¡c pháº§n tá»­ */

    /* TÄƒng cá»¡ chá»¯ cho vÄƒn báº£n footer dÆ°á»›i form Ä‘Äƒng nháº­p */
    #auth-container p { font-size: 1.4em; } /* ğŸŒŸ TÄ‚NG: VÄƒn báº£n link ğŸŒŸ */


    /* Ã” KÃ½ tá»± IPA */
    .ipa-symbol {
        padding: 20px;
        min-height: 120px; 
    }
    .ipa-symbol .symbol { font-size: 3.5em; } 
    .ipa-symbol .example { font-size: 1.4em; } 

    /* Cá»™t HÆ°á»›ng dáº«n vÃ  BÃ¬nh luáº­n */
    #guide-text { font-size: 1.6em; } 
    
    #comment-toggle-header { font-size: 1.8em; } 
    .comment-sender { font-size: 1.2em; } 
    .comment-item p { font-size: 1.4em; } 
    .comment-timestamp { font-size: 1.0em; } 
    
    /* NÃºt ÄÄƒng xuáº¥t */
    #logout-btn { 
        padding: 15px 25px;
        font-size: 1.4em; 
    }
    
    /* NÃºt Ghi Ã¢m/Video */
    #record-controls button, #video-custom-controls button {
        font-size: 1.2em; 
        padding: 14px 22px;
    }

    /* Chiá»u cao cá»™t chÃ­nh */
    .ipa-chart, #guide-display {
        height: calc(100vh - 250px); 
    }
}
/* === Bá»” SUNG: TRáº NG THÃI HOÃ€N THÃ€NH === */
.ipa-symbol {
    position: relative; 
}

.completion-container {
    position: absolute;
    top: 5px;
    right: 5px;
    cursor: pointer;
    font-size: 1.5em; 
    line-height: 1;
    z-index: 10;
    user-select: none;
    color: #95a5a6; 
    transition: color 0.2s;
}

.completion-container:hover {
    color: #2c3e50;
}

/* KÃ½ tá»± Ä‘Ã£ hoÃ n thÃ nh */
.ipa-symbol.completed {
    background-color: #e6ffe6 !important; 
    border-color: #2ecc71 !important; 
    transform: scale(1.05);
}

.ipa-symbol.completed .completion-status-icon {
    content: "âœ”"; 
    color: #2ecc71; 
}
